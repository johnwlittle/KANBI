<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>KANBI: Help & Documentation</title>
  <link rel="icon" type="image/svg+xml" href="favicon.svg">
  <link rel="alternate icon" type="image/png" href="favicon.png">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;800&display=swap');

    /* --------- Core Variables --------- */
    :root {
      /* Color Scheme (consistent with index.html) */
      --primary: #5c7ba6;
      --primary-light: #f7f9fc;
      --primary-dark: #3b4c65;
      
      --secondary: #7d8ea5;
      --secondary-light: #edf0f5;
      --secondary-dark: #6a7a94;
      
      --accent: #a3b4c6;
      --accent-light: #e2e5eb;
      --accent-hover: #8ca4bb;
      
      --white: #ffffff;
      --gray-100: #f8f9fa;
      --gray-200: #f0f2f7;
      --gray-300: #e2e5eb;
      --gray-400: #c2cad6;
      
      --card-shadow: 0 4px 12px rgba(0, 0, 0, 0.06);
      --header-shadow: 0 2px 4px rgba(0,0,0,0.04); /* Matched from index.html */
      --focus-shadow: 0 0 0 2px rgba(92, 123, 166, 0.15);
      
      --orange: #FF9800; /* Keep for notes if still used */
      --orange-light: #FFF3E0;
    }

    /* --------- Base Styles --------- */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Inter', sans-serif;
      line-height: 1.6;
      color: var(--primary-dark);
      background-color: var(--gray-100);
      background-image: linear-gradient(135deg, #f5f6fa 0%, #e6ecf3 100%);
      min-height: 100vh;
      padding: 20px; /* Added padding to body like index.html */
      margin: 0;
    }

    /* --------- Layout --------- */
    .page-container { /* This class might not be strictly necessary if body has padding */
      display: flex;
      flex-direction: column;
      min-height: calc(100vh - 40px); /* Adjust if body padding is 20px */
    }

    /* --------- Header (Updated to match index.html's .header-container) --------- */
    .header { /* Re-styling existing header to match */
      display: flex;
      align-items: center;
      justify-content: space-between;
      background-color: var(--white);
      padding: 15px 20px;
      border-radius: 6px;
      border: 1px solid var(--gray-300); /* Consistent with index.html border */
      box-shadow: var(--header-shadow); 
      margin-bottom: 20px; /* Spacing below header */
    }

    .logo h1 { /* Copied from index.html for consistency */
      text-align: left;
      margin-bottom: 0;
      padding: 0;
      color: var(--primary-dark);
      font-weight: 800;
      font-size: 26px;
      letter-spacing: 4px;
      text-transform: uppercase;
      position: relative;
      display: inline-block;
      line-height: 1.2;
    }

    .logo h1 .letter-a,
    .logo h1 .letter-i { /* Copied from index.html */
      color: #87CEEB;
    }

    .back-btn {
      background-color: var(--gray-200);
      color: var(--primary-dark);
      border-radius: 20px;
      padding: 10px 20px;
      font-weight: 500;
      transition: all 0.3s ease;
      border: none;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      text-transform: none;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 5px;
      position: relative;
      overflow: hidden;
      cursor: pointer;
      font-family: 'Inter', sans-serif;
      font-size: 13px;
    }

    .back-btn:hover {
      background-color: #E1F5FE; /* Using a help-btn like hover from original index.html */
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.12);
    }

    /* --------- Main Content --------- */
    .main-content {
      flex: 1;
      max-width: 900px;
      margin: 0 auto; /* Centered, margin-top handled by header's margin-bottom */
      padding: 40px 20px;
      background-color: var(--white);
      box-shadow: var(--card-shadow); /* Subtle 3D effect */
      border-radius: 6px; /* Consistent rounding with header */
      border: 1px solid var(--gray-300); /* Added border for consistency */
    }

    /* --------- Help Content Styling --------- */
    .help-title {
      text-align: center;
      margin-bottom: 30px;
      color: var(--primary-dark);
      font-weight: 600;
      font-size: 28px;
    }

    .help-section {
      margin-bottom: 40px;
    }

    .help-section:last-child {
      margin-bottom: 0;
    }

    .help-section h2 {
      color: var(--primary-dark);
      font-weight: 500;
      font-size: 22px;
      margin-bottom: 15px;
      padding-bottom: 10px;
      border-bottom: 1px solid var(--gray-300);
    }

    .help-section h3 {
      color: var(--primary);
      font-weight: 500;
      font-size: 18px;
      margin-top: 20px;
      margin-bottom: 12px;
    }

    .help-section p, .help-section ol { /* Removed ul from this general rule to avoid conflicting margins */
      margin-bottom: 15px;
      line-height: 1.7;
      color: var(--primary-dark);
    }
    
    .help-section ul, /* Kept ul separate for more specific control if needed later */
    .help-section ol {
      padding-left: 25px;
      margin-bottom: 15px; /* ensure ul also has this default if not overridden by .toc */
    }

    .help-section li {
      margin-bottom: 10px; /* General li spacing */
    }

    .help-section code {
      background-color: var(--gray-200);
      padding: 2px 5px;
      border-radius: 3px;
      font-family: monospace;
      font-size: 0.9em;
    }
    
    .help-section .important-note {
        background-color: var(--orange-light);
        border-left: 3px solid var(--orange);
        padding: 10px 15px;
        margin: 15px 0;
        border-radius: 4px;
    }
    .help-section .important-note p {
        margin-bottom: 5px;
    }
     .help-section .important-note p:last-child {
        margin-bottom: 0;
    }


    /* Feature grid */
    .features-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 20px;
      margin-top: 20px;
      margin-bottom: 20px;
    }

    .feature-card {
      background-color: var(--gray-100);
      border-radius: 6px;
      padding: 20px;
      border: 1px solid var(--gray-300);
      transition: all 0.2s ease;
    }

    .feature-card:hover {
      transform: translateY(-3px);
      box-shadow: var(--card-shadow);
    }

    .feature-card h3 {
      margin-top: 0;
      font-size: 16px;
      color: var(--primary-dark);
      border-bottom: none;
      padding-bottom: 0;
    }

    .feature-card p {
      margin-bottom: 0;
      font-size: 14px;
      color: var(--secondary-dark);
    }

    /* Tips section */
    .tips-list {
      background-color: var(--primary-light);
      border-radius: 6px;
      padding: 20px;
      margin-top: 20px;
    }

    .tips-list li {
      margin-bottom: 12px;
    }

    .tips-list li:last-child {
      margin-bottom: 0;
    }

    /* Image container */
    .image-container {
      margin: 20px 0;
      text-align: center;
      border: 1px solid var(--gray-300);
      padding: 10px;
      border-radius: 6px;
      background-color: var(--white);
    }

    .image-container img {
      max-width: 100%;
      height: auto;
      border-radius: 4px;
    }

    .image-container figcaption {
      margin-top: 10px;
      font-size: 14px;
      color: var(--secondary-dark);
    }

    /* Links */
    a {
      color: var(--primary);
      text-decoration: none;
      transition: all 0.2s;
    }

    a:hover {
      color: var(--primary-dark);
      text-decoration: underline;
    }

    /* Table of contents */
    .toc {
      background-color: var(--gray-100);
      border-radius: 6px;
      padding: 20px;
      margin-bottom: 30px;
      border: 1px solid var(--gray-300);
    }

    .toc h3 {
      margin-top: 0;
      margin-bottom: 15px;
      color: var(--primary-dark);
      font-size: 16px;
    }

    .toc ul { /* Main ToC list */
      list-style-type: none;
      padding-left: 0;
      margin-bottom: 0; /* Remove bottom margin from the main ul */
    }

    .toc > ul > li { /* Top-level list items */
      margin-bottom: 8px; /* Standard spacing for top-level items */
      font-size: 14px;
    }

    .toc > ul > li > ul { /* Nested list (sub-items) */
      margin-top: 8px;    /* <<< --- THIS IS THE KEY CHANGE: Adds space above the sub-list */
      padding-left: 15px; /* Indent sub-items */
      margin-bottom: 0px; /* Can be 0 or small, as parent li's margin-bottom handles larger gap */
    }

    .toc > ul > li > ul > li { /* Individual sub-list items */
      margin-bottom: 5px; /* Tighter spacing for sub-items */
    }


    .toc a {
      display: block;
      padding: 5px 10px;
      border-radius: 4px;
      transition: all 0.2s;
    }

    .toc a:hover {
      background-color: var(--gray-200);
      text-decoration: none;
    }

    /* --------- Footer --------- */
    footer { 
      text-align: center;
      padding: 20px;
      background-color: var(--white);
      border-top: 1px solid var(--gray-300);
      font-size: 12px;
      color: var(--accent-hover);
      margin-top: 20px; 
    }

    /* --------- Responsive Styles --------- */
    @media (max-width: 768px) {
      body {
        padding: 10px; 
      }
      .header { 
        padding: 15px;
        flex-direction: column;
        align-items: flex-start;
      }
      
      .logo { 
        margin-bottom: 10px;
      }
      
      .back-btn { 
        align-self: flex-start; 
        margin-top: 10px; 
      }
      
      .main-content {
        padding: 20px;
        margin-top: 0; 
      }
      
      .features-grid {
        grid-template-columns: 1fr;
      }
      
      .help-title {
        font-size: 24px;
      }
      
      .help-section h2 {
        font-size: 20px;
      }
      
      .help-section h3 {
        font-size: 16px;
      }
    }
  </style>
</head>
<body>
    <header class="header">
      <div class="logo">
        <h1>K<span class="letter-a">A</span>NB<span class="letter-i">I</span></h1>
      </div>
      <button class="back-btn" onclick="window.location.href='index.html'">Back to KANBI</button>
    </header>

    <main class="main-content">
      <h1 class="help-title">KANBI Help & Documentation</h1>
      
      <div class="toc">
        <h3>Contents</h3>
        <ul>
          <li><a href="#about">About KANBI</a></li>
          <li><a href="#getting-started">Getting Started</a></li>
          <li><a href="#philosophy">Core Philosophy</a></li>
          <li><a href="#features">Features</a></li>
          <li><a href="#usage">How to Use KANBI</a>
            <ul>
                <li><a href="#managing-boards">Managing Multiple Boards</a></li>
                <li><a href="#managing-columns">Managing Columns & Archiving</a></li>
                <li><a href="#managing-tasks">Managing Tasks</a></li>
                <li><a href="#data-storage">Data Storage & File Management</a></li>
            </ul>
          </li>
          <li><a href="#limitations">Limitations & Considerations</a></li>
          <li><a href="#tips">Tips & Tricks</a></li>
          <li><a href="#about-creator">About the Creator & License</a></li>
        </ul>
      </div>
      
      <section id="about" class="help-section">
        <h2>About KANBI</h2>
        <p>KANBI is a lightweight, no-bullshit Kanban board application designed for simplicity and efficiency. It helps you visualize your workflow, limit work-in-progress, and maximize productivity without the bloat of complex project management tools. Now with support for managing multiple boards and a simple way to archive completed tasks!</p>
        
        <div class="image-container">
          <img src="images/example.jpg" alt="KANBI Board Example" /> 
          <figcaption>A typical KANBI board with tasks organized across columns</figcaption>
        </div>
      </section>
      
      <section id="getting-started" class="help-section">
        <h2>Getting Started</h2>
        <p>Getting up and running with KANBI is quick and straightforward:</p>
        
        <ol>
          <li><strong>Clone or download</strong> this repository. No dependencies or server required.</li>
          <li><strong>Open</strong> <code>index.html</code> in your web browser.</li>
          <li>Familiarize yourself with the controls in the header:
            <ul>
              <li><strong>Boards Dropdown:</strong> For creating, selecting, renaming, and deleting your KANBI boards.</li>
              <li><strong>+ Task / + Column:</strong> For adding new tasks and columns to your active KANBI board.</li>
              <li><strong>File Dropdown:</strong> For importing and exporting KANBI board data.</li>
              <li><strong>Help:</strong> To view this documentation.</li>
            </ul>
          </li>
          <li>Each board includes a default "Archived" column. Drag completed tasks here to keep your active columns tidy. The task list within this "Archived" column will scroll vertically if it gets long.</li>
          <li>Start organizing your tasks across multiple KANBI boards!</li>
        </ol>
        
        <div class="tips-list">
          <ul>
            <li>KANBI automatically saves all your boards and changes to your browser's local storage.</li>
            <li>Use the "File" dropdown to manually "Export Active Board" or "Export All Boards" as JSON backup files.</li>
            <li>Move tasks to the "Archived" column to keep your "Done" column clean and focused.</li>
          </ul>
        </div>
      </section>
      
      <section id="philosophy" class="help-section">
        <h2>Core Philosophy</h2>
        <p>KANBI's ethos is centered around minimalism and practicality. We believe productivity tools should get out of your way and let you focus on what matters. KANBI is designed to be straightforward, fast, and reliable.</p>
        
        <p>The application adheres to these core principles:</p>
        <ul>
          <li><strong>Simplicity:</strong> No unnecessary features or complex configurations.</li>
          <li><strong>Speed:</strong> Optimized for performance.</li>
          <li><strong>Privacy:</strong> Your data stays on your device with local storage.</li>
          <li><strong>Flexibility:</strong> Customize your workflow and manage multiple projects.</li>
          <li><strong>Portability:</strong> Export and import your KANBI board data easily.</li>
        </ul>
      </section>
      
      <section id="features" class="help-section">
        <h2>Features</h2>
        <p>KANBI provides essential features for effective Kanban board management:</p>
        
        <div class="features-grid">
          <div class="feature-card">
            <h3>Multiple Board Management</h3>
            <p>Create, switch, rename, and delete multiple KANBI boards.</p>
          </div>
          <div class="feature-card">
            <h3>Customizable Columns</h3>
            <p>Create, edit, and reorder columns to match your workflow on each KANBI board. Includes a default scrollable "Archived" column.</p>
          </div>
          <div class="feature-card">
            <h3>Task Management</h3>
            <p>Add, edit, prioritize and move tasks between columns, including an "Archived" column.</p>
          </div>
          <div class="feature-card">
            <h3>Drag and Drop</h3>
            <p>Intuitive interface for organizing columns and tasks.</p>
          </div>
          <div class="feature-card">
            <h3>Due Dates</h3>
            <p>Set and track deadlines with visual indicators.</p>
          </div>
          <div class="feature-card">
            <h3>Persistent Local Storage</h3>
            <p>All KANBI board data is automatically saved to your browser.</p>
          </div>
          <div class="feature-card">
            <h3>Flexible Import/Export</h3>
            <p>Save/load individual KANBI boards or all boards as JSON files.</p>
          </div>
          <div class="feature-card">
            <h3>Responsive Design</h3>
            <p>Works on desktop and mobile devices.</p>
          </div>
           <div class="feature-card">
            <h3>Visual Customization</h3>
            <p>Customize column colors for each KANBI board.</p>
          </div>
        </div>
      </section>
      
      <section id="usage" class="help-section">
        <h2>How to Use KANBI</h2>

        <h3 id="managing-boards">Managing Multiple Boards</h3>
        <p>KANBI now allows you to manage several distinct Kanban boards. Use the "Boards" dropdown menu in the header:</p>
        <ul>
          <li><strong>Switch Boards:</strong> Click on a board name in the dropdown to make it active. The main area will update to show the selected KANBI board.</li>
          <li><strong>Create New Board:</strong> Select "Create New Board." You'll be prompted to enter a name for your new KANBI board. It will then become the active board and will include default columns, including an "Archived" column.</li>
          <li><strong>Rename Current Board:</strong> Select "Rename Current Board." You'll be prompted to enter a new name for the currently active KANBI board.</li>
          <li><strong>Delete Current Board:</strong> Select "Delete Current Board." You'll be asked for confirmation.
            <div class="important-note">
                <p><strong>Caution:</strong> Deleting a KANBI board is permanent and will remove all its columns and tasks. If you delete your last remaining KANBI board, KANBI will automatically create a new default board for you.</p>
            </div>
          </li>
        </ul>
        
        <h3 id="managing-columns">Managing Columns & Archiving</h3>
        <ul>
          <li><strong>Add a Column:</strong> Click the "+ Column" button in the header or the "Add Column" box at the end of your active KANBI board. New columns will be added before the "Archived" column.</li>
          <li><strong>Edit a Column:</strong> Click the pencil icon (✏️) on a column to edit its title or color. The title of the default "Archived" column cannot be edited via the modal to preserve its special styling and behavior.</li>
          <li><strong>Reorder Columns:</strong> Drag columns horizontally to change their order. The "Archived" column is designed to be the last column; reordering it before other active columns is not recommended for its intended use.</li>
          <li><strong>Delete a Column:</strong> Click the trash icon (🗑️) on a column (this will delete all tasks in that column). The "Archived" column can also be deleted, but doing so will remove all tasks within it.</li>
          <li><strong>The "Archived" Column:</strong>
            <ul>
              <li>Each board automatically includes an "Archived" column as the last column. This is where you can move tasks that are completed but you wish to keep for reference, helping to keep your main "Done" column from becoming overly long.</li>
              <li>If the list of tasks in the "Archived" column exceeds its set maximum height (e.g., 700px), a vertical scrollbar will appear within that column's task list, allowing you to scroll through all archived items without making the entire board excessively tall.</li>
            </ul>
          </li>
        </ul>
        
        <h3 id="managing-tasks">Managing Tasks (within the Active KANBI Board)</h3>
        <ul>
          <li><strong>Add a Task:</strong> Click the "+ Task" button in the header. The task will be added to the default first column of your active KANBI board (or your chosen column in the modal, excluding "Archived").</li>
          <li><strong>Edit a Task:</strong> Click the pencil icon (✏️) on a task.</li>
          <li><strong>Move a Task:</strong> Drag tasks between columns to change their status.</li>
          <li><strong>Archive a Task:</strong> To archive a task (typically from a "Done" column), simply drag it into the "Archived" column.</li>
          <li><strong>Unarchive a Task:</strong> To bring a task back to active status, drag it from the "Archived" column to any other column on your board (e.g., "To Do" or "In Progress").</li>
          <li><strong>Prioritize Tasks:</strong> Use the up/down arrows (▲▼) on a task to reorder it within its current column.</li>
          <li><strong>Delete a Task:</strong> Click the trash icon (🗑️) on a task.</li>
        </ul>
        
        <h3>Setting Due Dates</h3>
        <p>When creating or editing a task, you can set a due date. Tasks will display differently based on their due date status:</p>
        <ul>
          <li><strong>Normal:</strong> Due dates in the future.</li>
          <li><strong>Due Today:</strong> Tasks due on the current day will show "⏰ Due Today" in amber.</li>
          <li><strong>Overdue:</strong> Tasks past their due date will show "⚠️ Due: [date]" in red.</li>
        </ul>

        <h3 id="data-storage">Data Storage & File Management</h3>
        <h4>Automatic Saving to Browser</h4>
        <p>KANBI automatically saves all your boards, columns, and tasks (including those in the "Archived" column) to your browser's local storage. This means your data persists between sessions (even if you close the tab or browser) for that specific browser on your computer.</p>
        
        <h4>Manual File Operations (via "File" Dropdown)</h4>
        <p>For backups, sharing, or moving data between browsers/computers, use the "File" dropdown menu:</p>
        <ul>
          <li><strong>Import Board(s):</strong>
            <ul>
              <li>Allows you to load KANBI board data from a JSON file.</li>
              <li>KANBI can import files from older single-board versions, single boards exported via "Export Active Board," or entire sets of boards from "Export All Boards." Imported boards will also receive an "Archived" column if they don't have one.</li>
              <li>You may be prompted to import a single board as a new board or to replace your currently active KANBI board.</li>
              <li>If importing an "All Boards" file, you'll be asked to confirm if you want to replace all your existing KANBI data.</li>
            </ul>
          </li>
          <li><strong>Export Active Board:</strong>
            <ul>
              <li>Saves only the currently displayed KANBI board (including its "Archived" column and tasks) to a JSON file (e.g., <code>KANBI_Board_MyProject_2025-05-21_1030.json</code>).</li>
            </ul>
          </li>
          <li><strong>Export All Boards:</strong>
            <ul>
              <li>Saves all your KANBI boards, their columns, tasks, and names (including all "Archived" columns and their contents) into a single JSON file (e.g., <code>KANBI_All_Boards_2025-05-21_1030.json</code>). This is recommended for comprehensive backups.</li>
            </ul>
          </li>
        </ul>
        <p><strong>Note:</strong> The previous behavior of KANBI automatically creating a JSON file in your Downloads folder on every change has been removed. File exports are now always a manual action initiated by you. This helps reduce file clutter.</p>
      </section>
      
      <section id="limitations" class="help-section">
        <h2>Limitations & Considerations</h2>
        
        <h3>Multiple Board Management</h3>
        <p>KANBI now fully supports managing multiple boards within a single browser instance. Each KANBI board is self-contained with its own columns (including a default "Archived" column) and tasks.</p>

        <h3>"Archived" Column Behavior</h3>
        <p>The "Archived" column is a standard column with special styling for its task list (vertical scrolling). It still occupies horizontal space on your board. While tasks within it scroll, having an extremely large number of tasks in this column might eventually affect browser performance during initial load or filtering, though less so than if they were in a non-scrolling "Done" column.</p>
        
        <h3>File Management & Backups</h3>
        <p>While KANBI saves to your browser's local storage automatically, this data can be lost if you clear your browser's data or if your browser profile becomes corrupted.
        It is <strong>highly recommended</strong> to periodically use the "Export All Boards" feature to create manual backup files of your KANBI data. Store these JSON files in a safe place.</p>
        
        <h3>Local Storage Scope</h3>
        <p>Your KANBI data stored in local storage is specific to the browser (and user profile within that browser) you are using. Data is not automatically synced between different browsers (e.g., Chrome and Firefox) or different computers. To move data, use the "Export" and "Import" functions.</p>
        
        <h3>Task & Board Limits</h3>
        <p>While there's no hard limit on the number of boards, columns, or tasks, extreme numbers (many hundreds of tasks per KANBI board, or very many boards) might affect performance. For very large archives, consider periodically exporting boards containing many archived items and then removing those boards from your active KANBI instance if they are no longer frequently needed.</p>
      </section>
      
      <section id="tips" class="help-section">
        <h2>Tips & Tricks</h2>
        
        <div class="tips-list">
          <ul>
            <li><strong>Use separate KANBI boards</strong> to manage different projects, contexts (e.g., "Work," "Personal"), or long-term goals.</li>
            <li><strong>Regularly move tasks from "Done" to the "Archived" column</strong> to keep your active columns clean and focused.</li>
            <li><strong>Use consistent column colors</strong> within a KANBI board for better visual organization.</li>
            <li><strong>Regularly use "Export All Boards"</strong> for backups, especially before making significant changes or if relying on KANBI for important data.</li>
            <li><strong>Keep task descriptions concise</strong> for better readability.</li>
            <li><strong>Use due dates strategically</strong> to highlight time-sensitive tasks.</li>
            <li><strong>Limit work-in-progress</strong> by keeping task counts in "In Progress" type columns low.</li>
            <li><strong>Review and clean up your KANBI boards periodically</strong> to maintain focus and performance.</li>
          </ul>
        </div>
      </section>
      
      <section id="about-creator" class="help-section">
        <h2>About the Creator & License</h2>
        <p>KANBI was developed by John W. Little. Visit <a href="http://johnwlittle.com" target="_blank">johnwlittle.com</a> for updates or to explore other projects.</p>
        <p>KANBI is licensed under the <a href="https://opensource.org/license/apache-2-0" target="_blank">Apache License 2.0</a>. You may obtain a copy of the License at <a href="https://opensource.org/license/apache-2-0" target="_blank">https://opensource.org/license/apache-2-0</a>.</p>
        <p>Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.</p>
      </section>
    </main>

    <footer>
      KANBI by John W. Little &copy; 2025 • Licensed under <a href="https://opensource.org/license/apache-2-0" target="_blank">Apache 2.0</a>
    </footer>
</body>
</html>